[{"i":"431f4912-3077-9335-4901-31f491256faa","d":"2005-09-07 20:09:54","u":"anon","n":"cj","c":"<b>Worth mentioning the new --with-oci8 syntax?<\/b><br\/>\n<p>Thanks Wez &amp; Antony for refactoring the extension!   <\/p>\n<p>The configure options have been improved and the --with-oci8-instant-client option has been combined with --with-oci8.   <\/p>\n<p>To configure the refactored oci8 driver with Oracle Instant Client I used:   <\/p>\n<p>--with-oci8=yes,instantclient,\/path\/to\/instantclient_10_2   <\/p>\n<p>-- CJ  <\/p>","email":"cj","url":null},{"i":"438e90bf-4b2a-2818-1626-38e90bf3736d","d":"2005-12-01 05:57:19","u":"anon","n":"Tom","c":"<b>I'm confused.. compile with or without?<\/b><br\/>\n<p>Hi Wez,   <\/p>\n<p>I would like to ask you about what you wrote:   <\/p>\n<p>&quot;you will need to recompile PHP using --with-oci8=shared (or --without-oci8) before this will work.&quot;   <\/p>\n<p>I compiled PHP 5.0.4 with &quot;--with-oci8=&lt;ORACLE_HOME&gt;&quot;. Then I installed OCI8 v1.1.1.   <\/p>\n<p>I'm not sure v1.1.1 is working (since http:\/\/bugs.php.net\/bug.php?id=29779 is not solved for me). Are you saying I need to recompile PHP with &quot;--without-oci8&quot; so the new OCI8 would work? I don't understand, I'm confused..   <\/p>\n<p>Could you please explain?   <\/p>\n<p>Thanks, Tom.  <\/p>","email":"Tom","url":null},{"i":"438e9c11-8a7c-5122-0000-38e9c117b3a7","d":"2005-12-01 06:45:37","u":"anon","n":"Tom","c":"<b>One more thing..<\/b><br\/>\n<p>Hi Wez,   <\/p>\n<p>Just to add, my phpinfo shows $Revision: 1.257.2.6 $ and not 1.274 as I read in http:\/\/bugs.php.net\/bug.php?id=35205.   <\/p>\n<p>Does that imply that the OCI8 v1.1.1 wasn't installed correctly or needed I recompile it as you wrote (although I didn't see this requirement in any documentation)?   <\/p>\n<p>Thanks, Tom.  <\/p>","email":"Tom","url":null},{"i":"438eee14-5164-0106-0862-38eee14596f8","d":"2005-12-01 12:35:32","u":"http:\/\/netevil.org\/","n":"wezfurlong","c":"<b>Build shared (or not all) to be able to upgrade via PECL<\/b><br\/>\n<p>You either need to build PHP with shared OCI support, or no OCI support at all, if you want to be able to use PECL to upgrade the OCI support via the PECL tool.  The reasoning is simple:  if you build OCI support statically into PHP, you can't load the shared version of the extension, because it's already built into your PHP.  <\/p>","email":"wez@netevil.org","url":"http:\/\/netevil.org"},{"i":"43934669-9cc4-8778-0620-39346698e62f","d":"2005-12-04 19:41:29","u":"anon","n":"Tom","c":"<b>Can it be built static?<\/b><br\/>\n<p>Hi Wez,   <\/p>\n<p>Thanks for your prompt response. I understood that using static OCI8 module gives the best performance hence I built the PHP with the option I mentioned in my previous comment.   <\/p>\n<p>Is it possible to somehow build PHP with OCI8 v1.1.1 as static module?   <\/p>\n<p>How is the performance degrades if using OCI8 as shared module?   <\/p>\n<p>What about CJ's suggestion to use: --with-oci8=yes,instantclient,\/path\/to\/instantclient_10_2?   <\/p>\n<p>Thanks so much for your help :) Tom.   <\/p>","email":"Tom","url":null},{"i":"439348bc-686f-7622-8733-39348bc1b261","d":"2005-12-04 19:51:24","u":"http:\/\/netevil.org\/","n":"wezfurlong","c":"<b>Shipping with PHP 5.1.2<\/b><br\/>\n<p>The improved driver will be shipping with PHP 5.1.2; you can try out the stable 5.1 snapshot from http:\/\/snaps.php.net; this is PHP 5.1.1 with only bug fixes applied.   <\/p>\n<p>Alternatively, you can take your PHP source distribution and remove ext\/oci8, then extract the new improved code in its place.  Run &quot;.\/buildconf --force&quot; from the root of the source distribution to rebuild configure, and you can then build the extension statically into your build of PHP.   <\/p>\n<p>As for performance difference, some people have reported bad performance with shared builds, but this should not be an issue in more recent versions of PHP, where the compiler options have been tweaked to avoid this.   <\/p>\n<p>  <\/p>","email":"wez@netevil.org","url":"http:\/\/netevil.org"},{"i":"4394f2b2-8e92-6337-1267-394f2b21d871","d":"2005-12-06 02:08:48","u":"anon","n":"Tom","c":"<b>Thanks so much :)<\/b><br\/>\n<p>Hi Wez,   <\/p>\n<p>Good news! I have managed to build PHP 5.0.4 with OCI8 v1.1.1 statically.   <\/p>\n<p>Everything is working smoothly :)   <\/p>\n<p>Thanks so much for your help.   <\/p>\n<p>For readers who need the same, when you extract oci8-1.1.1.tgz, you'll see a directory called 'oci8-1.1.1'. I did not copy the directory to '\/ext' to replace '\/ext\/oci8', I just removed all files from '\/ext\/oci8' and copied the files under 'oci8-1.1.1' to '\/ext\/oci8'. From there you should follow Wez's guidance (you can also use this link: http:\/\/www.php.net\/manual\/en\/install.pecl.static.php)   <\/p>\n<p>Tom.  <\/p>","email":"Tom","url":null}]